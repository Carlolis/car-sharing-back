services:
  scala-app:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        EDGEDB_DSN_BUILD: ${EDGEDB_DSN_BUILD}
    ports:
      - "8080:8080"
    command: >
      sh -c "/myapp/dist/bin/back"
    volumes:
      - "./dbschema:/dbschema"
    environment:
      EDGEDB_SERVER_SECURITY: insecure_dev_mode


